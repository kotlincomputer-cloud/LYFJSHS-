<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SupplySync â€” Supply Inventory Tracking System</title>
<link rel="icon" type="image/png" href="1768986500105.jpg">

<style>
:root{
  --green:#0f7a3d;
  --red:#c62828;
  --shadow:0 6px 18px rgba(0,0,0,.08);
  font-family:Arial,Helvetica,sans-serif;
}
body{
  margin:0;
  background:linear-gradient(180deg,#e8f5ee,#fff);
}


.login{
  width:90%;
  max-width:400px;
  margin:10vh auto;
  background:#fff;
  padding:20px;
  border-radius:14px;
  box-shadow:var(--shadow);
  text-align:center;
}
.login-logo{
  width:100px;
  margin-bottom:10px;
}
.login input{
  width:calc(100% - 20px); 
  padding:10px;
  margin-bottom:10px;
  border-radius:8px;
  border:1px solid #ccc;
  box-sizing:border-box;
  display:block;
}
.login button{
  width:100%;
  padding:10px;
  border:none;
  border-radius:8px;
  background:var(--green);
  color:#fff;
  cursor:pointer;
}


.wrap{
  display:none;
}


header{
  display:flex;
  align-items:center;
  gap:20px;
}
.logo{
  width:120px;
  height:120px;
  border-radius:50%;
  overflow:hidden;
}
.logo img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.blink{
  font-size:26px;
  font-weight:800;
  animation:blink 1.5s infinite;
}
@keyframes blink{50%{color:var(--red)}}


.main{
  display:grid;
  grid-template-columns:260px 1fr;
  gap:20px;
  margin-top:20px;
}


.sidebar{
  background:#fff;
  padding:20px;
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  border-top:6px solid var(--green);
  position:sticky;
  top:20px;
}


.card{
  background:#fff;
  padding:20px;
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  border-top:6px solid var(--green);
  margin-bottom:20px;
}


input,select,button{
  border-radius:8px;
  border:1px solid #ccc;
  padding:10px;
  margin-bottom:10px;
}
button{
  background:var(--green);
  color:#fff;
  border:none;
  cursor:pointer;
}
button.delete{background:var(--red)}
button.retrieve{background:var(--green)}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}
th,td{
  padding:8px;
  border-bottom:1px solid #ddd;
  text-align:center;
}
th{background:var(--green);color:#fff}
.stock-low{color:#c62828;font-weight:bold}
.stock-ok{color:#0f7a3d;font-weight:bold}
.deleted-item{color:#555;font-style:italic}


.qty-price{
  display:flex;
  gap:2px; 
}
.qty-price input{
  width:60px; 
  padding:6px;
  text-align:center;
}


@media (max-width:768px) {
  .main{
    grid-template-columns:1fr; 
  }
  .sidebar{
    order:0;  
    margin-bottom:20px;
  }
  .card{
    margin-bottom:20px;
  }
  .qty-price{
    flex-wrap: nowrap;
    gap:2px;           
  }
  .qty-price input{
    width:48%; 
  }
}
</style>
</head>

<body>


<div class="login" id="loginBox">
  <img src="1768986500105.jpg" class="login-logo">
  <h3>Admin Login</h3>
  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
</div>


<div class="wrap" id="app">

<header>
  <div class="logo">
    <img src="1768986500105.jpg">
  </div>
  <div>
    <div class="blink">SUPPLYSYNC</div>
    <div>Supply Inventory Tracking System</div>
  </div>
</header>

<div class="main">


<aside class="sidebar">
<strong>Inventory Links</strong><br><br>
<a href="https://docs.google.com/spreadsheets" target="_blank">ðŸ“„ Google Sheets</a>
</aside>


<main>

<div class="card">
<h3>Add Item</h3>
<input id="itemName" placeholder="Item Name">

<div class="qty-price">
  <input id="itemQty" type="number" placeholder="Qty">
  <input id="itemPrice" type="number" placeholder="Price">
</div>

<button onclick="addItem()">Add</button>

<hr>

<select id="selectActive"></select>
<button class="delete" onclick="deleteItem()">Delete</button>

<table>
<thead>
<tr><th>Item</th><th>Qty</th><th>Price</th><th>Status</th></tr>
</thead>
<tbody id="inventoryList"></tbody>
</table>
</div>


<div class="card">
<h3>Deleted Items</h3>
<select id="selectDeleted"></select>
<button class="retrieve" onclick="retrieveItem()">Retrieve</button>

<table>
<thead>
<tr><th>Item</th><th>Qty</th><th>Price</th><th>Status</th></tr>
</thead>
<tbody id="deletedList"></tbody>
</table>
</div>
</main>

</div>
</div>

<script>
const SHEET_URL = "https://script.google.com/macros/s/AKfycbyu8yD7Ok62X-TSyTN49bSp2LOBSMR0Mu7f0TIWOXGVI487eMUjCioTrCbKWgUW_dYX/exec";
let inventory = [];

function uid(){
  return "ID-"+Date.now()+"-"+Math.floor(Math.random()*1000);
}

function send(item){
  fetch(SHEET_URL,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify(item)
  });
}

function login(){
  const u = document.getElementById("username").value;
  const p = document.getElementById("password").value;
  if(u==="admin" && p==="1234"){
    document.getElementById("loginBox").style.display="none";
    document.getElementById("app").style.display="block";
  }else{
    alert("Invalid login");
  }
}

function render(){
  const inventoryList = document.getElementById("inventoryList");
  const deletedList = document.getElementById("deletedList");
  const selectActive = document.getElementById("selectActive");
  const selectDeleted = document.getElementById("selectDeleted");

  inventoryList.innerHTML="";
  deletedList.innerHTML="";
  selectActive.innerHTML="";
  selectDeleted.innerHTML="";

  inventory.forEach((i,x)=>{
    if(!i.deleted){
      inventoryList.innerHTML+=`
      <tr>
        <td>${i.name}</td>
        <td>${i.qty}</td>
        <td>â‚±${i.price}</td>
        <td class="${i.qty<50?'stock-low':'stock-ok'}">${i.qty<50?'LOW':'OK'}</td>
      </tr>`;
      selectActive.innerHTML+=`<option value="${x}">${i.name}</option>`;
    }else{
      deletedList.innerHTML+=`
      <tr class="deleted-item">
        <td>${i.name}</td>
        <td>${i.qty}</td>
        <td>â‚±${i.price}</td>
        <td>DELETED</td>
      </tr>`;
      selectDeleted.innerHTML+=`<option value="${x}">${i.name}</option>`;
    }
  });
}

function addItem(){
  const itemName = document.getElementById("itemName").value;
  const itemQty = document.getElementById("itemQty").value;
  const itemPrice = document.getElementById("itemPrice").value;
  if(!itemName || !itemQty || !itemPrice) return;

  const item={
    id:uid(),
    name:itemName,
    qty:+itemQty,
    price:+itemPrice,
    status:itemQty<50?"LOW":"OK",
    action:"ADD",
    deleted:false
  };
  inventory.push(item);
  send(item);
  render();

  document.getElementById("itemName").value="";
  document.getElementById("itemQty").value="";
  document.getElementById("itemPrice").value="";
}

function deleteItem(){
  const selectActive = document.getElementById("selectActive");
  if(selectActive.value==="") return;

  const i = inventory[selectActive.value];
  i.deleted = true;
  i.status = "DELETED";
  i.action = "UPDATE";
  send(i);
  render();
}

function retrieveItem(){
  const selectDeleted = document.getElementById("selectDeleted");
  if(selectDeleted.value==="") return;

  const i = inventory[selectDeleted.value];
  i.deleted = false;
  i.status = i.qty<50?"LOW":"OK";
  i.action = "UPDATE";
  send(i);
  render();
}
</script>

</body>
</html>
